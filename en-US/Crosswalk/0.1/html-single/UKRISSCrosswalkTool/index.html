<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>UKRISSCrosswalkTool</title><link rel="stylesheet" href="Common_Content/css/default.css" type="text/css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.1" /><meta name="package" content="Crosswalk-UKRISSCrosswalkTool-0.1-en-US-0-0" /><meta name="description" content="Welcome to the home site of the UKRISS Crosswalk Connector Tool. This document describes how to install, implement and configure the connector tool for the Crosswalk project. Crosswalk is available as a download from this site, and is freely available to the public under the GPL3 open source licence." /></head><body class="toc_embeded "><div id="tocdiv" class="toc"><iframe id="tocframe" class="toc" src="../../../../toc.html">This is an iframe, to view it upgrade your browser or enable iframe display.</iframe></div><p id="title"><a class="left" href="http://www.certus-tech.com"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://www.certus-tech.com"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><div xml:lang="en-US" class="book" title="UKRISSCrosswalkTool" id="idm533248" lang="en-US"><div class="titlepage"><div><div class="producttitle"><span class="productname">Crosswalk</span> <span class="productnumber">0.1</span></div><div><h1 id="idm533248" class="title">UKRISSCrosswalkTool</h1></div><div><h2 class="subtitle">Crosswalk Connector User Documentation</h2></div><p class="edition">Edition 0</p><div><h3 class="corpauthor">
		<span class="inlinemediaobject"><object data="Common_Content/images/title_logo.svg" type="image/svg+xml"> </object></span>
	</h3></div><div><div xml:lang="en-US" class="authorgroup" lang="en-US"><div class="author"><h3 class="author"></h3><div class="affiliation"><span class="orgname">Certus Technology Associates Ltd.</span></div><code class="email"><a class="email" href="mailto:info@certus-tech.com">info@certus-tech.com</a></code></div></div></div><hr /><div><div class="abstract" title="Abstract"><h6>Abstract</h6><div class="para">
			Welcome to the home site of the UKRISS Crosswalk Connector Tool. This document describes how to install, implement and configure the connector tool for the Crosswalk project.
		</div><div class="para">
			Crosswalk is available as a download from this site, and is freely available to the public under the GPL3 open source licence.
		</div></div></div></div><hr /></div><div class="toc"><dl><dt><span class="chapter"><a href="#chap-UKRISSCrosswalkTool-Overview">1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Overview-Section_1">1.1. Project Background</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Overview-Section_2">1.2. PDI (Pentaho Kettle)</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Overview-Section_3">1.3. PDI Customisation</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chap-UKRISSCrosswalkTool-Installation">2. Installation</a></span></dt><dd><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Installation-Section_1">2.1. Overview</a></span></dt><dt><span class="section"><a href="#sect_Installation_Procedure">2.2. Installating PDI</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Installation-Section_2">2.3. Installing Crosswalk plugins</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chap-UKRISSCrosswalkTool-KettleConfiguration">3. Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_1">3.1. Jobs and Transformations</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_2">3.2. PDI Repository</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_3">3.3. Steps and Hops</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_4">3.4. Previewing a Step</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_5">3.5. Executing a Transformation or Job</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chap-UKRISSCrosswalkTool-ImplemnentationGuide">4. PDI Implementation</a></span></dt><dd><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_1">4.1. Parameterisation</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2">4.2. CERIF-based Canonical Data Model Steps</a></span></dt><dd><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_1">4.2.1. Map to CDM</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_2">4.2.2. Get CDM fields</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_3">4.2.3. Convert CDM to CERIF</a></span></dt></dl></dd><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_3">4.3. Command-Line Invocation</a></span></dt></dl></dd><dt><span class="index"><a href="#idp7947328">Index</a></span></dt></dl></div><div xml:lang="en-US" class="chapter" title="Chapter 1. Overview" id="chap-UKRISSCrosswalkTool-Overview" lang="en-US"><div class="titlepage"><div><div><h2 class="title">Chapter 1. Overview</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Overview-Section_1">1.1. Project Background</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Overview-Section_2">1.2. PDI (Pentaho Kettle)</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Overview-Section_3">1.3. PDI Customisation</a></span></dt></dl></div><div class="section" title="1.1. Project Background" id="sect-UKRISSCrosswalkTool-Overview-Section_1"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-Overview-Section_1">1.1. Project Background</h2></div></div></div><div class="para">
			A crosswalk tool, or connector, was required in order to demonstrate a proof of concept for the transfer of data from research institutions to funding bodies. The primary function of the tool developed is to collate information into a prescribed format and to transfer these data in a single transaction.
		</div><div class="para">
			The tool had to be able to read from a number of divergent data sources, map them to a CERIF XML standard and transport them to a defined destination.
		</div><div class="para">
			The tool has been tested on data provided by Exeter and partner institutions during the UKRISS project. It was not intended that the tool should be developed for production.
		</div></div><div class="section" title="1.2. PDI (Pentaho Kettle)" id="sect-UKRISSCrosswalkTool-Overview-Section_2"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-Overview-Section_2">1.2. PDI (Pentaho Kettle)</h2></div></div></div><div class="para">
			The Pentaho Data Integration Community Edition (PDI CE), also known as Kettle, was successfully trialled in an earlier project (RMAS). It was therefore used as the basis of this part of the project. NB: For simplicity, the term <span class="emphasis"><em>PDI</em></span> will be used throughout this document to refer to this software.
		</div><div class="para">
			PDI uses the concept of <span class="emphasis"><em>Steps</em></span> to represent actions performed on data, which can be arranged into <span class="emphasis"><em>transformations</em></span>, allowing sequences of actions to be performed to manipulate data. Transformations can be performed in sequence in a <span class="emphasis"><em>job</em></span>, meaning that modular approach can be taken to data manipulation, while maintaining the power of the actions can be performed.
		</div><div class="para">
			A graphical interface allows the user to see how the data flows as it is handled with jobs and transformations.
		</div></div><div class="section" title="1.3. PDI Customisation" id="sect-UKRISSCrosswalkTool-Overview-Section_3"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-Overview-Section_3">1.3. PDI Customisation</h2></div></div></div><div class="para">
			To facilitate the use of PDI in the Crosswalk project, the concept of the CERIF-backed Canonical Data Model (CDM) is introduced. This is a model to which data can be mapped and passed between Transformations and can then be efficiently serialised into CERIF. Custom plug-ins have been developed for mapping data to the CDM and serialising the CDM to CERIF, and are provided with the release.
		</div></div></div><div xml:lang="en-US" class="chapter" title="Chapter 2. Installation" id="chap-UKRISSCrosswalkTool-Installation" lang="en-US"><div class="titlepage"><div><div><h2 class="title">Chapter 2. Installation</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Installation-Section_1">2.1. Overview</a></span></dt><dt><span class="section"><a href="#sect_Installation_Procedure">2.2. Installating PDI</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-Installation-Section_2">2.3. Installing Crosswalk plugins</a></span></dt></dl></div><div class="section" title="2.1. Overview" id="sect-UKRISSCrosswalkTool-Installation-Section_1"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-Installation-Section_1">2.1. Overview</h2></div></div></div><div class="para">
			This chapter details how to install Crosswalk on your system. There are two parts to the installation:
		</div><div class="orderedlist"><ol><li class="listitem"><div class="para">
					Installation of PDI Kettle.
				</div></li><li class="listitem"><div class="para">
					Installation of plugins designed for Crosswalk.
				</div></li></ol></div></div><div class="section" title="2.2. Installating PDI" id="sect_Installation_Procedure"><div class="titlepage"><div><div><h2 class="title" id="sect_Installation_Procedure">2.2. Installating PDI</h2></div></div></div><div class="para">
			To install PDI, first visit the Pentaho Kettle website and <a href="http://sourceforge.net/projects/pentaho/files/Data%20Integration/">download</a> the software. NOTE: The plugins developed for Crosswalk have been tested against version 4.2.1 of Kettle. Certus Technology cannot guarantee the correct operation of these plugins on later versions of Kettle.
		</div><div class="para">
			Follow the <a href="http://wiki.pentaho.com/display/EAI/01.+Installing+Kettle">instructions</a> on the Pentaho website to install the software.
		</div></div><div class="section" title="2.3. Installing Crosswalk plugins" id="sect-UKRISSCrosswalkTool-Installation-Section_2"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-Installation-Section_2">2.3. Installing Crosswalk plugins</h2></div></div></div><div class="para">
			The Crosswalk plugins are available from <a href="https://github.com/">GitHub</a>. Search for the "crosswalk-connector-bin" project and download the directory. On examining the downloaded files, you will notice the directory pattern
		</div><div class="para">
			
<pre class="programlisting">kettle/plugins/steps</pre>
			This mimics the directory structure of PDI Kettle; to install the plugins, simply copy the steps directory from the downloaded file location to the same location in the installation of Kettle you performed in step 2 of this chapter. On starting Kettle, the plugins will be available to use.
		</div></div></div><div xml:lang="en-US" class="chapter" title="Chapter 3. Configuration" id="chap-UKRISSCrosswalkTool-KettleConfiguration" lang="en-US"><div class="titlepage"><div><div><h2 class="title">Chapter 3. Configuration</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_1">3.1. Jobs and Transformations</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_2">3.2. PDI Repository</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_3">3.3. Steps and Hops</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_4">3.4. Previewing a Step</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_5">3.5. Executing a Transformation or Job</a></span></dt></dl></div><div class="section" title="3.1. Jobs and Transformations" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_1"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_1">3.1. Jobs and Transformations</h2></div></div></div><div class="para">
			PDI allows creation of two file types: jobs and transformations. A transformation is used to describe the data flows for an Extract-Transform-Load (ETL) process, such as reading from a source, transforming data and loading it into a target location.
		</div><div class="para">
			A job is used to coordinate ETL processes. A job might be used, for example, to wait for a file to be created in a directory, trigger an ETL process and finally send an email to communicate success or failure of the process. A job may utilise several transformations to achieve its goal.
		</div></div><div class="section" title="3.2. PDI Repository" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_2"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_2">3.2. PDI Repository</h2></div></div></div><div class="para">
			PDI uses a data repository to store jobs, transformations and metadata. The repository can be either a relational database or a folder on disk. To connect to a repository in PDI go to <span class="emphasis"><em>Tools-&gt;Repository-&gt;Connect...</em></span> or alternatively press <span class="emphasis"><em>CTRL+R</em></span>, then choose the repository you want to connect to. For more information on setting up a repository, please refer to the Installation section or the <a href="http://infocenter.pentaho.com/help/topic/getting_started_with_pdi/task_pdi_connecting_to_per.html">PDI documentation</a>.
		</div></div><div class="section" title="3.3. Steps and Hops" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_3"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_3">3.3. Steps and Hops</h2></div></div></div><div class="para">
			In PDI, transformations and jobs are made up of steps for performing various extract, transform and load operations. They are, in essence, the building blocks of the transformations and jobs. Steps are categorised based on their purpose; for example, there are input steps for reading in data, output steps for outputting data and transform steps for transforming and manipulating the data. See <a href="http://wiki.pentaho.com/display/EAI/Pentaho+Data+Integration+Steps">PDI Steps guide</a> for a list of all of the available steps.
		</div><div class="figure" title="Figure 3.1. An example of a hop between two steps" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_3_figure_1"><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/Configuration/ConfigurationHop.png" align="middle" alt="An example of a hop between two steps" /></div></div><h6>Figure 3.1. An example of a hop between two steps</h6></div><br class="figure-break" /><div class="para">
			Hops are links between steps and describe the flow of the ETL process. You can create a hop between two steps by clicking the step you wish to start the hop from, press and holding <span class="emphasis"><em>shift</em></span>, and draw a line to the corresponding step. By clicking the hop you can disable/enable it - disabled hops appear greyed out. Some hops are conditional and represent the flow of the ETL process under particular circumstances - for example when an error occurs. These hops are normally coloured, or have an icon over them to indicate their purpose.
		</div></div><div class="section" title="3.4. Previewing a Step" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_4"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_4">3.4. Previewing a Step</h2></div></div></div><div class="para">
			Some PDI steps allow you to preview the data at that particular stage in the process. To do so, <span class="emphasis"><em>right-click</em></span> on the step you want to preview and select <span class="emphasis"><em>Preview</em></span>. A dialog will appear. Click <span class="emphasis"><em>Quick Launch</em></span> and PDI will attempt to preview the data for you. Note that you can only preview steps within a Transformation, not entries within a Job.
		</div></div><div class="section" title="3.5. Executing a Transformation or Job" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_5"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_5">3.5. Executing a Transformation or Job</h2></div></div></div><div class="para">
			Jobs and transformations can be executed within the Spoon interface by clicking the green run arrow shown in <a class="xref" href="#sect-UKRISSCrosswalkTool-KettleConfiguration-Section_5_figure_1" title="Figure 3.2. Spoon run controls">Figure 3.2, “Spoon run controls”</a>.
		</div><div class="figure" title="Figure 3.2. Spoon run controls" id="sect-UKRISSCrosswalkTool-KettleConfiguration-Section_5_figure_1"><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/Configuration/ConfigurationControls.png" align="middle" alt="Spoon run controls" /></div></div><h6>Figure 3.2. Spoon run controls</h6></div><br class="figure-break" /><div class="para">
			This will bring up a window allowing you to configure the execution before it is run. Here you can override job parameters and set the level of logging to be displayed. Click <span class="emphasis"><em>Launch</em></span> to then execute the job or transformation.
		</div></div></div><div xml:lang="en-US" class="chapter" title="Chapter 4. PDI Implementation" id="chap-UKRISSCrosswalkTool-ImplemnentationGuide" lang="en-US"><div class="titlepage"><div><div><h2 class="title">Chapter 4. PDI Implementation</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_1">4.1. Parameterisation</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2">4.2. CERIF-based Canonical Data Model Steps</a></span></dt><dd><dl><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_1">4.2.1. Map to CDM</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_2">4.2.2. Get CDM fields</a></span></dt><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_3">4.2.3. Convert CDM to CERIF</a></span></dt></dl></dd><dt><span class="section"><a href="#sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_3">4.3. Command-Line Invocation</a></span></dt></dl></div><div class="section" title="4.1. Parameterisation" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_1"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_1">4.1. Parameterisation</h2></div></div></div><div class="para">
			PDI uses parameters to allow the jobs and transformations to be configurable. Each transformation may specify its own parameters with default values, but these may be overridden by defaults specified at the job level. The job level defaults may in turn be overridden at runtime, for example with values specified on the command line.
		</div><div class="para">
			Parameters can be specified in <span class="emphasis"><em>Spoon</em></span> using the properties editor for a job or transformation. While editing a transformation in Spoon, press <span class="emphasis"><em>CTRL+T</em></span> and while editing a job press <span class="emphasis"><em>CTRL+J</em></span>. Then in the dialog select the <span class="emphasis"><em>Parameters</em></span> tab to access parameter configuration.
		</div><div class="figure" title="Figure 4.1. The parameters tab" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide-Section_1_figure_1"><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/Implementation/ImplParameters.png" align="middle" width="444" alt="The parameters tab" /></div></div><h6>Figure 4.1. The parameters tab</h6></div><br class="figure-break" /><div class="para">
			You will see a table showing the parameter name, default value and description. The default values specified in transformation parameter configuration can be overridden by specifying the same parameter at the job level. The parameters specified in the job are by default passed to the transformations which the job uses.
		</div></div><div class="section" title="4.2. CERIF-based Canonical Data Model Steps" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2">4.2. CERIF-based Canonical Data Model Steps</h2></div></div></div><div class="para">
			Crosswalk includes customised transformation steps for working with the CERIF-based Canonical Data Model (CDM). These extend the standard functionality provided by PDI.
		</div><div class="section" title="4.2.1. Map to CDM" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_1"><div class="titlepage"><div><div><h3 class="title" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_1">4.2.1. Map to CDM</h3></div></div></div><div class="para">
				This step acts as a mapping step to map from a set of input fields to CDM fields. The step is accessed in the <span class="emphasis"><em>Design</em></span> window by choosing <span class="emphasis"><em>Transform-&gt;Map to CDM</em></span>.
			</div><div class="figure" title="Figure 4.2. The Map to CDM plugin" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide-Section_2_figure_1"><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/Implementation/ImplMapToCdm.png" align="middle" alt="The Map to CDM plugin" /></div></div><h6>Figure 4.2. The Map to CDM plugin</h6></div><br class="figure-break" /><div class="para">
				This step can be configured to map <span class="emphasis"><em>from</em></span> any input fields, but can only map <span class="emphasis"><em>to</em></span> CDM fields. In the step properties there are three tabs: Select &amp; Alter, Remove and Meta-data.
			</div><div class="para">
				The <span class="emphasis"><em>Select &amp; Alter</em></span> tab allows for fields to be selected for inclusion, and renamed. The <span class="emphasis"><em>Get fields to select</em></span> button on the right-hand-side of the window can be used to automatically determine the available fields from previous steps.
			</div><div class="para">
				The <span class="emphasis"><em>Remove</em></span> tab is used to remove fields from the stream. This is useful to prevent unwanted fields from an input source being mapped to CDM (for example if there is no appropriate field to map to), or to remove temporary calculation fields from earlier steps.
			</div><div class="para">
				The <span class="emphasis"><em>Meta-data</em></span> tab allows definition of the mappings from the input fields to the CDM Fields. Select an input field in the <span class="emphasis"><em>Fieldname</em></span> column, and choose a CDM field to map to from the dropdown in the <span class="emphasis"><em>CDM Field</em></span> column.
			</div></div><div class="section" title="4.2.2. Get CDM fields" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_2"><div class="titlepage"><div><div><h3 class="title" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_2">4.2.2. Get CDM fields</h3></div></div></div><div class="para">
				The <span class="emphasis"><em>Get CDM fields</em></span> step is used to retrieve CDM fields made available by an earlier transformation in the same Job.
			</div><div class="para">
				When it completes, a transformation may export rows of data to the job it executed within. In the worked examples it is typical to have an input transformation which, for example, queries a database. This will then perform any necessary data preparation and use the <span class="emphasis"><em>Map to CDM</em></span> step to produce a stream containing only rows of CDM fields. The input transformation then ends with a <span class="emphasis"><em>Copy rows to result</em></span> step to export these rows. If the transformation is run in a job, the rows may be picked up by any subsequent transformations by using the <span class="emphasis"><em>Get CDM fields</em></span> step.
			</div><div class="figure" title="Figure 4.3. The Get CDM fields plugin" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide-Section_2_figure_2"><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/Implementation/ImplGetCDMFields.png" align="middle" alt="The Get CDM Fields plugin" /></div></div><h6>Figure 4.3. The Get CDM fields plugin</h6></div><br class="figure-break" /><div class="para">
				This step cannot be configured and only imports CDM fields into the transformation.
			</div></div><div class="section" title="4.2.3. Convert CDM to CERIF" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_3"><div class="titlepage"><div><div><h3 class="title" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_2_3">4.2.3. Convert CDM to CERIF</h3></div></div></div><div class="para">
				<span class="emphasis"><em>Convert CDM to CERIF</em></span> is used to convert all supported CDM fields to valid CERIF. The step is accessed in the <span class="emphasis"><em>Design</em></span> window by choosing <span class="emphasis"><em>Output-&gt;Convert CDM to CERIF</em></span>.
			</div><div class="figure" title="Figure 4.4. The Convert CDM to CERIF plugin" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide-Section_2_figure_3"><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/Implementation/ImplConvertCDMToCERIF.png" align="middle" alt="The Convert CDM to CERIF plugin" /></div></div><h6>Figure 4.4. The Convert CDM to CERIF plugin</h6></div><br class="figure-break" /><div class="para">
				No configuration of this step is necessary and it will automatically serialise all supported CDM fields to valid CERIF XML. This step also performs validation of the resulting document against the CERIF schema. As a result, it is not possible that the resulting XML document contains invalid CERIF if this step completes without reporting any errors.
			</div></div></div><div class="section" title="4.3. Command-Line Invocation" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_3"><div class="titlepage"><div><div><h2 class="title" id="sect-UKRISSCrosswalkTool-ImplemnentationGuide_Section_3">4.3. Command-Line Invocation</h2></div></div></div><div class="para">
			Jobs can be run in the Spoon graphical environment, but may also be run from the command line. PDI provides a command-line tool called Kitchen for this purpose.
		</div><div class="para">
			Kitchen utilises the same repository configuration details as Spoon, so once a user has set up the Crosswalk repository in Spoon they may also run jobs from the command line without further configuration.
		</div><div class="para">
			Kitchen is found in the root of the PDI installation; in Linux distributions it is located at 
<pre class="programlisting">Crosswalk/kettle/kitchen.sh</pre>
			 or in Windows, at 
<pre class="programlisting">Crosswalk\kettle\Kitchen.bat</pre>
		</div><div class="para">
			The following command lines demonstrate how to execute an example Job on both Linux and Windows. These commands assume that the example job files are stored in their own subdirectory within the repository. Also note that the quote marks around the repository name are optional in this case, but they must be included if the repository name contains spaces.
		</div><div class="para">
			Linux: 
<pre class="programlisting">kitchen.sh -rep="Crosswalk" -dir=/ExampleJobDir/ -job=ExampleJob -param:input.file=/var/test/data.csv</pre>
		</div><div class="para">
			Windows:
<pre class="programlisting">Kitchen.bat /rep:"Crosswalk" /dir:/ExampleJobDir /job:ExampleJob /param:input.file:c:\tmp\data.csv</pre>
		</div></div></div><div class="index" title="Index" id="idp7947328"><div class="titlepage"><div><div><h2 class="title">Index</h2></div></div></div><div class="index"></div></div></div></body></html>
